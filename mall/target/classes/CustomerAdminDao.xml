<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mall.dao.CustomerAdminDao">
	
	<delete id="deleteCustomerById" parameterType="int">
		DELETE FROM tb_customer
		WHERE user_id = #{userId}
	</delete>
	
	<select id="queryAccountList" resultType="com.example.mall.entity.Customer">
		SELECT user_id,user_name,password,enable_status,create_time,last_edit_time
		FROM tb_customer
		WHERE enable_status = 1
	</select>
	
	<select id="queryAccountById" parameterType="int" resultType="com.example.mall.entity.Customer">
		SELECT user_id,user_name,password,enable_status,create_time,last_edit_time
		FROM tb_customer
		WHERE user_id = #{userId} and enable_status = 1
	</select>
	
	<select id="queryAccountByName" parameterType="string" resultType="com.example.mall.entity.Customer">
		SELECT user_id,user_name,password,enable_status,create_time,last_edit_time
		FROM tb_customer
		WHERE enable_status = 1 and user_name LIKE '%${value}%'
	</select>
	
	<select id="queryAccountByPage" resultType="com.example.mall.entity.Customer">
		SELECT user_id,user_name,password,enable_status,create_time,last_edit_time
		FROM tb_customer
		WHERE enable_status = 1
		LIMIT #{start},#{offset}
	</select>
	
	<update id="addUserBlackList" parameterType="int">
		UPDATE tb_customer
		SET enable_status = 0
		where user_id = #{userId}
	</update>
	
	<select id="queryBlackList" resultType="com.example.mall.entity.Customer">
		SELECT user_id,user_name,password,enable_status,create_time,last_edit_time
		FROM tb_customer
		WHERE enable_status = 0
	</select>
	
	<update id="removeUserBlackList" parameterType="int">
		UPDATE tb_customer
		SET enable_status = 1
		where user_id = #{userId}
	</update>
</mapper>